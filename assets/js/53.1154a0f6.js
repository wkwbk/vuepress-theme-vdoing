(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{469:function(t,s,r){"use strict";r.r(s);var a=r(7),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("MTProto 协议是 "),s("a",{attrs:{href:"https://telegram.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Telegram"),s("OutboundLink")],1),t._v(" 为了对抗网络封锁开发的专用代理（MTProxy）协议，目前全平台的 TG 客户端中都支持 MTProto 协议和 MTProxy 代理。有了 MTProxy 代理，即使没有 VPN 或者其他代理的情况下，也能顺畅访问 TG。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"一键搭建-telegram-的-mtproto-代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一键搭建-telegram-的-mtproto-代理"}},[t._v("#")]),t._v(" 一键搭建 Telegram 的 MTProto 代理")]),t._v(" "),s("p",[t._v("第一步，请准备一台境外的 VPS，操作系统选 CentOS7/8、Ubuntu16/18/20，或者 Debian8/9/10；")]),t._v(" "),s("p",[t._v("第二步，SSH 登录到服务器；")]),t._v(" "),s("p",[t._v("第三步，执行下面的命令一键搭建 Telegram 的 MTProto 代理：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#创建文件夹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /home/mtproxy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /home/mtproxy\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#输入命令回车")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" mtproxy.sh https://raw.githubusercontent.com/ellermister/mtproxy/master/mtproxy.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x mtproxy.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" mtproxy.sh\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img.lisir.me/image/posts/1079bf71/001.png",alt:"安装完后配置信息"}})]),t._v(" "),s("p",[t._v("按照提示输入一个端口号并回车（端口号随便设置，不和其他软件冲突即可，注意端口是否开启）；")]),t._v(" "),s("p",[t._v("管理端口随意，伪装域名可设置其他的，TAG 看自己需求，不需要推广可直接回车；")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img.lisir.me/image/posts/1079bf71/002.png",alt:"安装成功后，会输出如下信息"}})]),t._v(" "),s("p",[t._v("第四步，接下来打开 TG 客户端，参考下图的操作添加自定义代理，选择 MTPROTO，将一键脚本输出的 IP、端口和密钥填上去，点击保存：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img.lisir.me/image/posts/1079bf71/003.png",alt:"操作方法"}})]),t._v(" "),s("p",[t._v("接下来，就可以在不开启代理或 VPN 的情况下使用 TG 客户端了。")]),t._v(" "),s("h2",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),s("ul",[s("li",[t._v("目前 MTProto 已经发展到第三代，已经不建议使用 v2ray 内置的 MTProto 来搭建")]),t._v(" "),s("li",[t._v("本脚本使用了 "),s("a",{attrs:{href:"https://github.com/9seconds/mtg",target:"_blank",rel:"noopener noreferrer"}},[t._v("9seconds"),s("OutboundLink")],1),t._v(" 的 docker 镜像搭建；")]),t._v(" "),s("li",[t._v("因为 docker 访问外网需求，因此禁用了 VPS 的防火墙。如果你的 VPS 用于网站等重要业务，不建议使用本脚本搭建；")]),t._v(" "),s("li",[t._v("如果有国内 VPS，建议使用中转，防止被封；")])])])}),[],!1,null,null,null);s.default=e.exports}}]);